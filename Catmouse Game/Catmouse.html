<script src="https://code.jquery.com/jquery-3.1.1.js" integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA=" crossorigin="anonymous">
</script>
<script src="davidbau-jquery-turtle-8964eb0/jquery-turtle.js"></script>

<link rel="stylesheet" href="Catmouse.css">
<div id="score" style="float:left;">0</div>
<div id="time" style="float:right; color:gold;">0</div>
<br clear="all">
<!-- <img id="cat" src="runningcat.gif"> -->
<!-- <div class='a'></div> -->
 <div id="mouse" class="mice"> <center> <img id="m1" class="mice" src="runningmouse.gif"> </center> </div>
 <!-- <div id="mouse2" class="mice"> <center> <img id="m2" class="mice" src="runningmouse.gif">  </center> </div> -->
 <!-- <div id="mouse3" > <h3>  C <img id="m3" class="mice" src="runningmouse.gif" style="height: 100px; width: 100px;  position: relative; "> <h3p> </div>-->

<script>
//$.setupids();
 $(document).ready(function(){
  animateDiv();
});


    time = 30,
    score = 0;
    counter=setInterval(timer, 1000);

function timer()
{
  time = time -1;
  if (time <= 0)
  {
     clearInterval(counter);
     return;
  }

 document.getElementById("time").innerHTML= time + " time";
}



    $("#mouse").click(function addScore(){    //when mouse clicked value incraments
    $("#mouse").css("display","none"),
      $("#score").html(function () { //mouse disappears on click
        return score+1;
     });
    });


function makeNewPosition(){

    // Get viewport dimensions (remove the dimension of the div)
    var h = $(window).height() - 20;
    var w = $(window).width() - 50;

    var nh = Math.floor(Math.random() * h);
    var nw = Math.floor(Math.random() * w);

    return [nh,nw];
}

function animateDiv(){
    var newq = makeNewPosition();
    var oldq = $('#mouse').offset();
    var speed = calcSpeed([oldq.top, oldq.left], newq);

    $('#mouse').animate({ bottom: newq[0], right: newq[0] }, speed, function(){
      animateDiv();
    });

};

function calcSpeed(prev, next) {

    var x = Math.abs(prev[0] - next[0]);
    var y = Math.abs(prev[0] - next[0]);

    var greatest = x > y ? x : y;

    var speedModifier = .50;

    var speed = Math.ceil(greatest/speedModifier);

    return speed;

}

/*function makeNewPosition(){
    // Get viewport dimensions (remove the dimension of the div)
    var h = $(window).height() + 70;
    var w = $(window).width() + 100;

    var nh = Math.floor(Math.random() * h);
    var nw = Math.floor(Math.random() * w);
    return [nh,nw];
}

function animateDiv(){
    var newq = makeNewPosition();
    $('#mouse').animate({ top: newq[10], left: newq[], bottom: newq[], right: newq[] }, function(){
      animateDiv();
    });

};
*/


setTimeout(function(){
  alert("Time's Up! Your Score is " ); }, 30000);
</script>
